include "cores/select.cal"
include "std/io.cal"

func exception_msg begin
	&_cal_exception Exception.msg +
end

func __uxn_exception begin
	exception_msg c"Unhandled exception: %s" printf new_line
	1 exit
end

func error foo begin
	c"hi im an exception" throw
end

try foo
catch
	exception_msg printstr new_line
end

foo
